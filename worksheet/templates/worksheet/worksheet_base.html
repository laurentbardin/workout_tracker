{% extends 'worksheet/base.html' %}

{% load static %}

{% block content %}

{% if worksheet is None %}
<p>No workout for {{ date }}. <a href="{% url 'worksheet:index' %}">Go back.</a></p>
{% else %}
<h1>Workout for {{ worksheet.date }}: {{ worksheet.workout }}</h1>
<section class="worksheet {{ worksheet.get_status }}">
    <div class="header">Exercise</div>
    <div class="header">Reps</div>
    <div class="header">Weight (kg)</div>
    {% if results.0.previous %}
    <div class="header">Previous reps</div>
    <div class="header">Previous weight (kg)</div>
    {% endif %}

    {% block workout_results %}{% endblock %}
</section>

{% block workout_form %}
{% if not worksheet.done %}
<form action="{% url 'worksheet:close' worksheet.id %}" method="POST">
    {% csrf_token %}
    <input type="submit" value="Close">
</form>
{% endif %}
{% endblock %}

{% endif %}

{% endblock content %}

{% block javascript %}
    {{ block.super }}
    <script src="{% static 'worksheet/js/htmx.min.js' %}"></script>
{% endblock %}
